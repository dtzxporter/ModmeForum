# Dynamic Weather fail
Game Modding | Call of Duty: Black Ops 3 | Scripting

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">gunrock12</span></span>:</strong>

<p>I used this old tutorial i found somewhere and it suppose to have random snow intensity but it causes my map.gsc script error:<br /><br />This is a follow up on the weather types, it will change the intensity of the weather.<br /><br />Open your mapname.csc and add this in the main function.<br />level.weather_intensity = 0.3;<br />clientfield::register( &quot;world&quot;, &quot;weather_intensity&quot;, VERSION_SHIP, 2, &quot;int&quot;, &amp;weather_intensity, !CF_HOST_ONLY, !CF_CALLBACK_ZERO_ON_NEW_ENT );<br /><br />Replace the old while function where the fx got played with this.<br />while(1)<br />{<br />    if(level.weather_intensity == 0)<br />    {<br />        wait .1;<br />        continue;<br />    }<br />    PlayFX( localClientNum, SNOW_FX, self.origin );<br />    wait level.weather_intensity;<br />}<br /><br />Now add this function as well.<br />function weather_intensity( localClientNum, oldVal, newVal, bNewEnt, bInitialSnap, fieldName, bWasTimeJump )<br />{<br />    // If value = 0 that will stop the weather<br />    // Lower the numbers to increase intensity ( Cannot go below 0 )<br /><br />    switch(newVal)<br />    {<br />        case 0:<br />            level.weather_intensity = 0;<br />            break;<br />        case 1:<br />            level.weather_intensity = 0.3;<br />            break;<br />        case 2:<br />            level.weather_intensity = 0.15;<br />            break;<br />        case 3:<br />            level.weather_intensity = 0.05;<br />            break;<br />    }<br />}<br /><br />Now we move onto mapname.gsc, add this in the main function.<br />clientfield::register( &quot;world&quot;, &quot;weather_intensity&quot;, VERSION_SHIP, 2, &quot;int&quot; );<br /><br />thread weather_intensity();<br /><br />And add this function as well.<br />function weather_intensity()<br />{<br />    weather_intensity = 1; // Starting weather type<br /><br />    while(1)<br />    {<br />        wait RandomIntRange(120, 360);<br />        intensity = RandomInt(4); // Generates a number from 0 - 3<br /><br />        while(intensity == weather_intensity) // Don&#39;t want repeating intensity<br />        {<br />            intensity = RandomInt(4);<br />            WAIT_SERVER_FRAME;<br />        }<br /><br />        level clientfield::set(&quot;weather_intensity&quot;, intensity);<br />        weather_intensity = intensity;<br />    }<br />}<br /><br />&#169; 2017 ARDIVEE ALL RIGHTS RESERVED<br /><br /><br />here is my compile error:<br />UNRECOVERABLE ERROR:<br /><br />SCRIPT ERROR: No generated data for &#39;scripts/mp/mp_eisen.csc&#39;<br /><br />ERR(6E) scripts/mp/mp_eisen.csc (17,0)  : Compiler Internal Error :  Uninitialized local variable &#39;version ship&#39;<br /><br /><br /><br /><br /><br /><br /><br />Linker will now terminate.<br /><br />********************************************************************************<br /><br /><br /><br />==================================================<br /><br /><br />What does &quot;version ship&quot; mean? this is the problem?</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">RaGe-74</span></span>:</strong>

<p>did you try taking it out or putting it in quotes ?</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">gunrock12</span></span>:</strong>

<p><blockquote>did you try taking it out or putting it in quotes ?<br /></blockquote><br />Yeah i did but it started to eat up the rest of the script with errors, well i&#39;ll just dot the outside part with snow fx then because it&#39;s only a small outside area anyhow.</p>
