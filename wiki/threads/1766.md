# Getting sounds to work for weapon mod?
Game Modding | Call of Duty: Black Ops 3 | General Discussion

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Thread By: HashimotoSoda<br />I&#39;ve made a mod so I can use my ported weapons in base game maps, SOE, DE ect and I can call the guns via console commands but they don&#39;t have sounds. In my custom map my ported weapons have sounds though, can anyone help me get sounds to work for my weapon mod? Also, can someone help me get my ported weapons into the box on SOE ect so I don&#39;t have to call them through console?</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Collie<br />Since you already have the sounds working in a custom map I&#39;m going to assume you&#39;ve set up a sound alias for them already. So your mod needs to link to that sound alias in order for your guns to have sounds. Create a new folder in the root directory of your mod and name it &quot;sound&quot;, then create a folder inside of that called &quot;zoneconfig&quot;. In that new folder create a text document called &quot;zm_mod.szc&quot;. Make sure it actually changes the filetype when you rename it. Now the directory should look like &quot;Black Ops III/mods/yourweaponmod/sound/zoneconfig/zm_mod.szc&quot;.<br /><br /><br /><br />Open that file and paste the following text:<br /><br />{% highlight php %}{% raw %}
{ "Name" : "zm_mod", "IsStandalone" : true, "IsProduction" : false, "IsShipped" : false, "DontDeploy" : false, "NoStreamBank" : false, "MapFile" : "", "Standalone" : true, "Builds" : [ "T7" ], "Sources" : [ { "Type" : "ALIAS", "Name" : "user_aliases", "Filename" : "user_aliases.csv", "Specs" : [ ] }, { "Type" : "ALIAS", "Name" : "zm_mod", "Filename" : "zm_mod.csv", "Specs" : [ ] } ] }
{% endraw %}{% endhighlight %}
<br /><br /><br />Now save and close that file, you need to go to your sound alias folder located in &quot;\Call of Duty Black Ops III\share\raw\sound\aliases\&quot;, copy the sound alias you used for your map and rename the copy to &quot;zm_mod.csv&quot;. <br /><br /><br /><br />Next back out to the raw folder and go to &quot;\raw\gamedata\weapons\zm&quot; and make a copy of the file &quot;zm_levelcommon_weapons.csv&quot; and rename it something like &quot;zm_weapon_mod&quot;. Open it and add your custom weapons. Just copy an existing line and edit it to suit your weapons.<br /><br /><br /><br />Finally, open your mods zone file and add the lines,<br /><br />{% highlight php %}{% raw %}
stringtable,gamedata/weapons/zm/zm_test_weapons.csv
sound,zm_mod
{% endraw %}{% endhighlight %}
<br />Make sure to replace zm_test_weapons.csv with the name of your weapon table.<br /><br /><br /><br />One that&#39;s done open your mod&#39;s script (Whether that&#39;s something like _clientids.gsc or a custom script) and add,<br /><br />{% highlight php %}{% raw %}
zm_weapons::load_weapon_spec_from_table("gamedata/weapons/zm/zm_test_weapons.csv", 1);
{% endraw %}{% endhighlight %}
<br /><br /><br />Replace &quot;zm_test_weapons.csv&quot; with whatever you named your weapon table.<br /><br />And that should be it. Assuming everything else is set up this should enable custom weapon sound and custom box weapons.</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: HashimotoSoda<br /><blockquote><em>Collie</em>Since you already have the sounds working in a custom map I&#39;m going to assume you&#39;ve set up a sound alias for them already. So your mod needs to link to that sound alias in order for your guns to have sounds. Create a new folder in the root directory of your mod and name it &quot;sound&quot;, then create a folder inside of that called &quot;zoneconfig&quot;. In that new folder create a text document called &quot;zm_mod.szc&quot;. Make sure it actually changes the filetype when you rename it. Now the directory should look like &quot;Black Ops III/mods/yourweaponmod/sound/zoneconfig/zm_mod.szc&quot;.<br /><br /><br /><br />Open that file and paste the following text:<br /><br />{% highlight php %}{% raw %}
{ "Name" : "zm_mod", "IsStandalone" : true, "IsProduction" : false, "IsShipped" : false, "DontDeploy" : false, "NoStreamBank" : false, "MapFile" : "", "Standalone" : true, "Builds" : [ "T7" ], "Sources" : [ { "Type" : "ALIAS", "Name" : "user_aliases", "Filename" : "user_aliases.csv", "Specs" : [ ] }, { "Type" : "ALIAS", "Name" : "zm_mod", "Filename" : "zm_mod.csv", "Specs" : [ ] } ] }
{% endraw %}{% endhighlight %}
<br /><br /><br />Now save and close that file, you need to go to your sound alias folder located in &quot;\Call of Duty Black Ops III\share\raw\sound\aliases\&quot;, copy the sound alias you used for your map and rename the copy to &quot;zm_mod.csv&quot;. <br /><br /><br /><br />Next back out to the raw folder and go to &quot;\raw\gamedata\weapons\zm&quot; and make a copy of the file &quot;zm_levelcommon_weapons.csv&quot; and rename it something like &quot;zm_weapon_mod&quot;. Open it and add your custom weapons. Just copy an existing line and edit it to suit your weapons.<br /><br /><br /><br />Finally, open your mods zone file and add the lines,<br /><br />{% highlight php %}{% raw %}
stringtable,gamedata/weapons/zm/zm_test_weapons.csv
sound,zm_mod
{% endraw %}{% endhighlight %}
<br />Make sure to replace zm_test_weapons.csv with the name of your weapon table.<br /><br /><br /><br />One that&#39;s done open your mod&#39;s script (Whether that&#39;s something like _clientids.gsc or a custom script) and add,<br /><br />{% highlight php %}{% raw %}
zm_weapons::load_weapon_spec_from_table("gamedata/weapons/zm/zm_test_weapons.csv", 1);
{% endraw %}{% endhighlight %}
<br /><br /><br />Replace &quot;zm_test_weapons.csv&quot; with whatever you named your weapon table.<br /><br />And that should be it. Assuming everything else is set up this should enable custom weapon sound and custom box weapons.</blockquote><br /><br />I managed to get the sounds working but I seem to be having issues getting my weapons into the box for SOE. I have a zm_custom_weapons.csv (the name of my specific .csv) in &quot;gamedata\weapons\zm&quot; and I&#39;ve gone into my mod script and added<br /><br /><br /><br />zm_weapons::load_weapon_spec_from_table(&quot;gamedata/weapons/zm/zm_custom_weapons.csv&quot;, 1);<br /><br /><br /><br />Also, I&#39;ve made sure to add <br /><br /><br /><br />stringtable,gamedata/weapons/zm/zm_custom_weapons.csv<br /><br /><br /><br />to my zone file but it doesn&#39;t seem to add my custom gun into the box. Any ideas? Also really appreciate the help with the sounds :)<br /><br /><br /><br />EDIT: I have no idea what happened up there ^..</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: m1cke<br /><blockquote><em>HashimotoSoda</em><blockquote><em>Collie</em>Since you already have the sounds working in a custom map I&#39;m going to assume you&#39;ve set up a sound alias for them already. So your mod needs to link to that sound alias in order for your guns to have sounds. Create a new folder in the root directory of your mod and name it &quot;sound&quot;, then create a folder inside of that called &quot;zoneconfig&quot;. In that new folder create a text document called &quot;zm_mod.szc&quot;. Make sure it actually changes the filetype when you rename it. Now the directory should look like &quot;Black Ops III/mods/yourweaponmod/sound/zoneconfig/zm_mod.szc&quot;.<br /><br /><br /><br />Open that file and paste the following text:<br /><br />{% highlight php %}{% raw %}
{ "Name" : "zm_mod", "IsStandalone" : true, "IsProduction" : false, "IsShipped" : false, "DontDeploy" : false, "NoStreamBank" : false, "MapFile" : "", "Standalone" : true, "Builds" : [ "T7" ], "Sources" : [ { "Type" : "ALIAS", "Name" : "user_aliases", "Filename" : "user_aliases.csv", "Specs" : [ ] }, { "Type" : "ALIAS", "Name" : "zm_mod", "Filename" : "zm_mod.csv", "Specs" : [ ] } ] }
{% endraw %}{% endhighlight %}
<br /><br /><br />Now save and close that file, you need to go to your sound alias folder located in &quot;\Call of Duty Black Ops III\share\raw\sound\aliases\&quot;, copy the sound alias you used for your map and rename the copy to &quot;zm_mod.csv&quot;. <br /><br /><br /><br />Next back out to the raw folder and go to &quot;\raw\gamedata\weapons\zm&quot; and make a copy of the file &quot;zm_levelcommon_weapons.csv&quot; and rename it something like &quot;zm_weapon_mod&quot;. Open it and add your custom weapons. Just copy an existing line and edit it to suit your weapons.<br /><br /><br /><br />Finally, open your mods zone file and add the lines,<br /><br />{% highlight php %}{% raw %}
stringtable,gamedata/weapons/zm/zm_test_weapons.csv
sound,zm_mod
{% endraw %}{% endhighlight %}
<br />Make sure to replace zm_test_weapons.csv with the name of your weapon table.<br /><br /><br /><br />One that&#39;s done open your mod&#39;s script (Whether that&#39;s something like _clientids.gsc or a custom script) and add,<br /><br />{% highlight php %}{% raw %}
zm_weapons::load_weapon_spec_from_table("gamedata/weapons/zm/zm_test_weapons.csv", 1);
{% endraw %}{% endhighlight %}
<br /><br /><br />Replace &quot;zm_test_weapons.csv&quot; with whatever you named your weapon table.<br /><br />And that should be it. Assuming everything else is set up this should enable custom weapon sound and custom box weapons.</blockquote><br /><br />I managed to get the sounds working but I seem to be having issues getting my weapons into the box for SOE. I have a zm_custom_weapons.csv (the name of my specific .csv) in &quot;gamedata\weapons\zm&quot; and I&#39;ve gone into my mod script and added<br /><br /><br /><br />zm_weapons::load_weapon_spec_from_table(&quot;gamedata/weapons/zm/zm_custom_weapons.csv&quot;, 1);<br /><br /><br /><br />Also, I&#39;ve made sure to add <br /><br /><br /><br />stringtable,gamedata/weapons/zm/zm_custom_weapons.csv<br /><br /><br /><br />to my zone file but it doesn&#39;t seem to add my custom gun into the box. Any ideas? Also really appreciate the help with the sounds :)<br /><br /><br /><br />EDIT: I have no idea what happened up there ^..</blockquote><br /><br />Dont make zm_custom_weapons.csv<br /><br />Simpely add <br /><br />{% highlight php %}{% raw %}
stringtable,gamedata/weapons/zm/zm_castle_weapons.csv stringtable,gamedata/weapons/zm/zm_factory_weapons.csv stringtable,gamedata/weapons/zm/zm_genesis_weapons.csv stringtable,gamedata/weapons/zm/zm_island_weapons.csv stringtable,gamedata/weapons/zm/zm_stalingrad_weapons.csv stringtable,gamedata/weapons/zm/zm_zod_weapons.csv
{% endraw %}{% endhighlight %}
<br />in to the zone file and make a .csv with your guns for eatch map <br /><br />Dont use this<br /><br />{% highlight php %}{% raw %}
zm_weapons::load_weapon_spec_from_table("gamedata/weapons/zm/zm_custom_weapons.csv", 1);
{% endraw %}{% endhighlight %}
</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">Cdub7304</span></span>:</strong>

<p>Dear m1cke, and everyone that can help.<br />    I am having a similar problem, and I haven&#39;t had any with getting help or figuring this out. I recently started with a map and I used the custom wallbuy prefabs from craftdanimaton&#39;s tutorial. I also download the fixed mystery box from I believe this site and that is the only way I have been getting weapons for my map. I wanted to change the cost of the weapons looked into it, watched some tutorials and read up online. So you have to make the map call the weapon&#39;s info (ie weapon type, price&#39;s, if there in the box or not) from a weapons table/.csv. So you have to make custom one to use and not the default table/.csv. That would be the reason to copy, modify, and place modified copy in a new folder, make that folder inside your map&#39;s folder, and have it with the same pathway (ie usermaps/gamedata/weapons/zm). That would also be the reason for using the stringtable::gamedata/weapons/zm and the function: function include_weapons()  <br />{<br />              zm_weapons::load_weapon_spec_from_table(&quot;gamedata/weapons/zm/zm_house_weapons.csv&quot;, 1);<br />}<br /> So I have tried all that and nothing works I can not adjust wallbuy price no changes. The above function is in the zm_yourmap.gsc and zm_yourmap.csc by default, I didn&#39;t write it, and if I add the stringtable::gamedata/ect.... to my zm_yourmap.ZONE the wallbuys all now have a 0 cost and I can&#39;t use them. The box still has the weapons in it, but no spinning animations and I can still switch up my starting weapon so the wepons are still there. I don&#39;t get errors when linking or compiling and it plays fine. If I remove the Stringtable:: line from my .ZONE file all is well again except the wallbuy price are back to being very high 5000 for an A.R. So I continued to research what was going on and That brings me here I can&#39;t solve it. I thought that maybe the two weapons.csv file were conflicting with each other They both had the same name and technically they have the same file path one under share/ and the other in my usermaps/ maybe the map was trying to call both of them up and one had default values and the other had my custom prices and that caused a conflict and made the cost 0, I also thought it may have be something in my cache files. So I cleared the cache and then renamed the wepons.csv file in my usermaps/mymap/gamedata/weapons/zm folder and then changed the function and stringtable commands to match the new .csv file name and tried again with the same outcome. When the stringtable:: line is in my .zone folder wallbuys cost 0 and box animation gone. so I did the next logical thing and just altered the original .csv in the share/raw/ect....  folder and changed the stringtable:: and the function to match the original .csv file name and tried again and again same outcome. I came across a post in here that suggested to change the function: include_weapons()   in the zm_usermap.gsc and zm_usermap.csc in share/raw/scripts to match the custom weapons.csv I created and to do the same with the zm_yourmap.gsc and zm_yourmap.csc in your usermaps/yourmap/scripts and to add stringtable::gamedata/weapons/zm and scriptparsetree,scripts/zm/zm_usermap.gsc, scriptparsetree,script/zm/zm_usermap.csc.<br />so I tried it and nothing changed same outcome, 0 cost no animations, but when I removed the scriptparsetree for the zm_usermap.gsc and csc lines and left the stringtable line in the .zone file wallbuys worked and animations played it was working like it should, except the cost of the wallbuys were at there default vaules and cost 5000 for an A.R. again so I have not been able to modify my weapons.csv and I think this will effect me if I start to try and load custom weapons I download or create. Would your method work for me will it help with custom weapons or only the weapons already in the game. Any help I can get I would be very greatful. Thank You.<br /><br />Chris</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">Cdub7304</span></span>:</strong>

<p>I completely deleted my wepons.csv file and no change. I&#39;m lost here how do I change wallbuy cost.</p>
